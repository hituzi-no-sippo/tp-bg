= Git hooks
:author: hituzi no sippo
:email: dev@hituzi-no-sippo.me
:revnumber: v0.7.0
:revdate: 2022-07-27T17:49:18+09:00
:revremark: add git pre-commit hook for line ending replaced
:description: Git hooks
:copyright: Copyright (C) 2022 {author}
// Custom Attributes
:creation_date: 2022-07-24T17:28:24+09:00
:github_url: https://github.com
:pre_commit_url: https://pre-commit.com
:pre_commit_ci_org_url: {github_url}/pre-commit-ci
:pre_commit_orizinazation_url: {github_url}/pre-commit
:pre_commit_repository_url: {pre_commit_orizinazation_url}/pre-commit-hooks
:pre_commit_config_file: ../../../.pre-commit-config.yaml

== Hooks

Linter and formatter hooks are written in JSON and YAML and other documents.
For example, the JSON formatter hook is in the JSON document.

Because we want to use the tools installed with Aqua,
we use the official link:{pre_commit_url}#system[
`language: system` hook^].
If there is no official `language: system` hook, use a local hook.

:hardbreaks-option:

=== Style

:trim_trailing_whitespace_link: link:{pre_commit_repository_url}#trailing-whitespace[trim trailing spaces^]
:end_of_line_fixer_link: link:{pre_commit_repository_url}#end-of-file-fixer[end of line fixer^]
:mixed_line_ending_link: link:{pre_commit_repository_url}#mixed-line-ending[mixed line ending^]
* {trim_trailing_whitespace_link}
  `end of line____` (`_` is space) => `end of line`
  Don't trim markdowns.
* {end_of_line_fixer_link}
* {mixed_line_ending_link}

=== pre-commit

:validation_for_pre_commit_ci_config_link: {pre_commit_ci_org_url}/pre-commit-ci-config#as-a-pre-commit-hook[validation for pre-commit.ci configuration^]
* {validation_for_pre_commit_ci_config_link}

:!hardbreaks-option:


== Manager

:pre_commit_link: link:{pre_commit_url}/[pre-commit^]
Use {pre_commit_link}.

link:{pre_commit_config_file}[Configuration File^]

=== Auto update

Use link:https://docs.renovatebot.com/modules/manager/pre-commit/[
Renovate^].

Enable automerge of minor update on Renovate.

:pre_commit_ci_url: https://pre-commit.ci
link:{pre_commit_ci_url}#:~:text=get%20faster%20builds!-,automatic%20updates%3A,-pre%2Dcommit.ci[
We don't use automatic update of hook with pre-commit.ci^].

Set `quarterly` to `autoupdate_schedule` of pre-commit.ci config
because automatic updates can't be disabled.

pre-commit.ci does automatic updates
link:{pre_commit_config_file}#:~:text=autoupdate_schedule%3A%20weekly[
every week^].


'''

:author_link: link:https://github.com/hituzi-no-sippo[{author}^]
Copyright (C) 2022 {author_link}
